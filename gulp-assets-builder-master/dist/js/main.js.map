{"version":3,"sources":["animation.js","parallax.js","popup.js"],"names":["offset","el","rect","getBoundingClientRect","scrollLeft","window","pageXOffset","document","documentElement","scrollTop","pageYOffset","top","left","anim","journeyText","querySelector","journeyTextOffset","frozenCliff","frozenCliffImage","frozenCliffOffset","frozenCliffHeight","offsetHeight","addEventListener","observer","IntersectionObserver","observables","forEach","observable","intersectionRatio","style","opacity","threshold","item","observe","$slider","yPos","coords","matchMedia","matches","dataset","speed","backgroundPosition","triggers","querySelectorAll","overlay","panel","body","active","showElements","classList","add","hideElements","remove","onkeydown","evt","event","key","keyCode"],"mappings":"AAEA,IAAAA,OAAAC,IACA,IAAAC,EAAAD,EAAAE,wBACAC,EAAAC,OAAAC,aAAAC,SAAAC,gBAAAJ,WACAK,EAAAJ,OAAAK,aAAAH,SAAAC,gBAAAC,UACA,MAAA,CAAAE,IAAAT,EAAAS,IAAAF,EAAAG,KAAAV,EAAAU,KAAAR,IAIAS,KAAA,KACA,IAAAC,EAAAP,SAAAQ,cAAA,kBACAC,EAAAhB,OAAAc,GACAG,EAAAV,SAAAQ,cAAA,iBACAG,EAAAX,SAAAQ,cAAA,4BACAI,EAAAnB,OAAAiB,GACAG,EAAAH,EAAAI,aAEAhB,OAAAiB,iBAAA,UAAA,KACAN,EAAAhB,OAAAc,GACAK,EAAAnB,OAAAiB,GACAG,EAAAH,EAAAI,gBAKA,IAAAE,EAAA,IAAAC,sBAAA,SAAAC,GACAA,EAAAC,SAAA,SAAAC,GACAA,EAAAC,kBAAA,IACAX,EAAAY,MAAAlB,IAAAK,EAAAL,IAAAQ,EAAAR,IAAAS,EAAA,IAAA,KACAF,EAAAW,MAAAC,QAAA,IAEAb,EAAAY,MAAAlB,IAAA,IACAO,EAAAW,MAAAC,QAAA,QAGA,CACAC,UAAA,CAAA,MAGAC,EAAAzB,SAAAQ,cAAA,YACAQ,EAAAU,QAAAD,IAGAzB,SAAAe,iBAAA,oBAAA,KACAT,UC5CAN,SAAAe,iBAAA,oBAAA,KAYAjB,OAAAiB,iBAAA,UAAA,WAXA,IACAY,EAEAC,EAGAC,EAMA/B,OAAAgC,WAAA,uBAAAC,UAXAJ,EAAA3B,SAAAQ,cAAA,WAEAoB,EAAA9B,OAAAK,YAAAwB,EAAAK,QAAAC,MAGAJ,EAAA,OAFAD,GAAAA,GAEA,KAEAD,EAAAL,MAAAY,mBAAAL,SCVA,IAAAM,SAAAnC,SAAAoC,iBAAA,gCACAC,QAAArC,SAAAQ,cAAA,mBACA8B,MAAAtC,SAAAQ,cAAA,iBACA+B,KAAAvC,SAAAQ,cAAA,QACAgC,QAAA,EAGA,SAAAC,eACAJ,QAAAK,UAAAC,IAAA,WACAN,QAAAK,UAAAC,IAAA,UACAL,MAAAI,UAAAC,IAAA,WACAL,MAAAI,UAAAC,IAAA,UACAJ,KAAAG,UAAAC,IAAA,iBACAH,QAAA,EAEA,SAAAI,eACAP,QAAAK,UAAAG,OAAA,UACAR,QAAAK,UAAAG,OAAA,WACAP,MAAAI,UAAAG,OAAA,WACAP,MAAAI,UAAAG,OAAA,UACAN,KAAAG,UAAAG,OAAA,iBACAL,QAAA,EAIAxC,SAAA8C,UAAA,SAAAC,IAGA,QAFAA,EAAAA,GAAAjD,OAAAkD,OAGA,WAAAD,EAAAE,KAAA,QAAAF,EAAAE,IAEA,KAAAF,EAAAG,UAGAN,gBAIA5C,SAAAe,iBAAA,oBAAA,KACAoB,SAAAhB,SAAAM,IACAA,EAAAV,iBAAA,SAAA,KACAyB,OAGAI,eAFAH","file":"main.js","sourcesContent":["// Animation of the frozenCliff image that scroll up and down\r\n\r\nlet offset = (el) => {\r\n    var rect = el.getBoundingClientRect(),\r\n    scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n    scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    return { top: rect.top + scrollTop, left: rect.left + scrollLeft }\r\n}\r\n\r\n\r\nlet anim = () => {\r\n    let journeyText = document.querySelector('.journey-texts');\r\n    let journeyTextOffset = offset(journeyText);\r\n    let frozenCliff = document.querySelector('.frozen-cliff');\r\n    let frozenCliffImage = document.querySelector('.frozen-cliff .image-top');\r\n    let frozenCliffOffset = offset(frozenCliff);\r\n    let frozenCliffHeight = frozenCliff.offsetHeight ;\r\n    // Update with resize\r\n    window.addEventListener(\"resize\", () => {\r\n        journeyTextOffset = offset(journeyText);\r\n        frozenCliffOffset = offset(frozenCliff);\r\n        frozenCliffHeight = frozenCliff.offsetHeight ;\r\n    });\r\n    \r\n    \r\n    // Update with observer\r\n    let observer = new IntersectionObserver(function (observables) {\r\n    observables.forEach(function (observable) {\r\n        if (observable.intersectionRatio > 0.5) {\r\n            frozenCliff.style.top = (journeyTextOffset.top - frozenCliffOffset.top) - frozenCliffHeight + 150 + 'px';\r\n            frozenCliffImage.style.opacity = 0;\r\n        }else{\r\n            frozenCliff.style.top = '0';\r\n            frozenCliffImage.style.opacity = 1;\r\n        }\r\n    })\r\n    }, {\r\n        threshold: [0.5]\r\n    });\r\n\r\n    let item = document.querySelector('.journey')\r\n    observer.observe(item)\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    anim();\r\n});\r\n\r\n\r\n","\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    function parallax() {\r\n        var $slider = document.querySelector(\".header\");\r\n    \r\n        var yPos = window.pageYOffset / $slider.dataset.speed;\r\n        yPos = -yPos;\r\n        \r\n        var coords = '0% '+ yPos + 'px';\r\n        \r\n        $slider.style.backgroundPosition = coords;\r\n    }\r\n    \r\n    window.addEventListener(\"scroll\", function(){\r\n        if (window.matchMedia(\"(min-width: 1400px)\").matches) {\r\n            parallax();\t\r\n        }\r\n    });\r\n});\r\n","let triggers = document.querySelectorAll('.pop-up-btn, .pop-up-overlay');\r\nlet overlay = document.querySelector('.pop-up-overlay');\r\nlet panel = document.querySelector('.pop-up-panel');\r\nlet body = document.querySelector('body');\r\nlet active = false;\r\n\r\n\r\nfunction showElements(){\r\n    overlay.classList.add('visible');\r\n    overlay.classList.add('active');\r\n    panel.classList.add('visible');\r\n    panel.classList.add('active');\r\n    body.classList.add('popup-visible');\r\n    active = true;\r\n}\r\nfunction hideElements(){\r\n    overlay.classList.remove('active');\r\n    overlay.classList.remove('visible');\r\n    panel.classList.remove('visible');\r\n    panel.classList.remove('active');\r\n    body.classList.remove('popup-visible');\r\n    active = false;\r\n}\r\n\r\n// Hide popup when Esc key is typed\r\ndocument.onkeydown = function(evt) {\r\n    evt = evt || window.event;\r\n    var isEscape = false;\r\n    if (\"key\" in evt) {\r\n        isEscape = (evt.key === \"Escape\" || evt.key === \"Esc\");\r\n    } else {\r\n        isEscape = (evt.keyCode === 27);\r\n    }\r\n    if (isEscape) {\r\n        hideElements();\r\n    }\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    triggers.forEach((item) => {\r\n        item.addEventListener(\"click\", () => {\r\n            if(!active){\r\n                showElements();\r\n            }else{\r\n                hideElements();\r\n            }\r\n        });\r\n    });\r\n});"]}